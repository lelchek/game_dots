(this.webpackJsonpgame_dots=this.webpackJsonpgame_dots||[]).push([[0],{10:function(e,t,a){e.exports={container:"formGame_container__3iGvB",select:"formGame_select__hzlFZ",input:"formGame_input__2tYWX",button:"formGame_button__1NeSL"}},14:function(e,t,a){e.exports={containerApp:"app_containerApp__wU_U7",playingFieldOverley:"app_playingFieldOverley__2cU6h"}},27:function(e,t,a){e.exports=a(61)},41:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),c=a.n(s),l=a(12),o=a(1),i=a.n(o),u=a(3),p=a(4),m=a(5),d=a(7),f=a(6),h=a(8),y=a(25),v=a.n(y),w=a(26),g=a(10),b=a.n(g),C=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={selectMode:"",userName:""},a.handleChange=function(e){"selectMode"===e.target.name&&a.props.drawField(e.target.value),a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.state.userName;e.preventDefault(),a.props.startPlay(t)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selectMode,a=e.userName,n=this.props,s=n.optionsSelect,c=n.buttonPlay,l=n.disabled;return r.a.createElement("div",{className:b.a.container},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("select",{className:b.a.select,required:!0,name:"selectMode",onChange:this.handleChange,value:t},r.a.createElement("option",{value:"",disabled:!0},"Pick game mode"),s.map((function(e){return r.a.createElement("option",{key:e,value:e,label:e},e)}))),r.a.createElement("input",{className:b.a.input,required:!0,name:"userName",onChange:this.handleChange,placeholder:"Enter your name",value:a}),r.a.createElement("button",{className:b.a.button,type:"submit",disabled:l},c)))}}]),t}(n.Component),E=(a(41),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={playingCell:[],playerWin:0,computerWin:0,winner:""},a.choicePlayCell=function(){var e=a.props.arrayCells.filter((function(e){return!a.state.playingCell.includes(e)})),t=a.randomIndexOfCells(e.length-1),n=e[t],r=a.winnerCheck(),s=document.getElementById(e[t]);e.length>0&&a.props.startGame?r?(a.props.winnerRecord(a.state.winner),a.setState({playerWin:0,computerWin:0})):(s.className="cellChoice",a.setState((function(e){return{playingCell:[].concat(Object(l.a)(e.playingCell),[n])}})),a.timer(s)):a.state.playerWin===a.state.computerWin&&0===e.length&&(a.setState({winner:"No Winner"}),a.props.winnerRecord(a.state.winner))},a.winnerCheck=function(){var e=Math.floor(a.props.fieldSize*a.props.fieldSize/2)+1;return a.state.playerWin===e?(a.setState({winner:a.props.userName}),!0):a.state.computerWin===e&&(a.setState({winner:"Computer"}),!0)},a.randomIndexOfCells=function(e){return Math.floor(Math.random()*(e+1))},a.timer=function(e){setTimeout((function(){a.playerLose(e)}),a.props.delay)},a.playerWin=function(e){"cellChoice"===e.target.className&&(e.target.className="cellWin",a.setState((function(e){return{playerWin:e.playerWin+1}})))},a.playerLose=function(e){"cellWin"!==e.className&&(e.className="cellLose",a.setState((function(e){return{computerWin:e.computerWin+1}}))),a.choicePlayCell()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.startGame&&this.props.startGame!==e.startGame&&(this.setState({playingCell:[],playerWin:0,computerWin:0,winner:""}),this.choicePlayCell())}},{key:"render",value:function(){var e=this,t=this.state.winner,a=this.props,n=a.fieldSize,s=a.arrayCells,c={gridTemplateColumns:"repeat(".concat(n,", 1fr)"),gridTemplateRows:"repeat(".concat(n,", 1fr)")};return r.a.createElement("div",null,r.a.createElement("div",{className:"overleyTitle"},t&&r.a.createElement("h2",null,t," is Win")),r.a.createElement("div",{className:"containerField",style:c},s.map((function(t){return r.a.createElement("div",{key:t,id:t,onClick:e.playerWin,className:"cellDefault"})}))))}}]),t}(n.Component)),S=a(9),O=a.n(S),_=function(e){var t=e.winner,a=e.date;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:O.a.item},r.a.createElement("span",{className:O.a.span},t),r.a.createElement("span",{className:O.a.span},a)))},k=function(e){var t=e.winners;return r.a.createElement("div",null,r.a.createElement("h2",null,"Leader Board"),r.a.createElement("ul",{className:O.a.list},t.map((function(e){return r.a.createElement(_,{key:e.id,winner:e.winner,date:e.date})}))))},N=a(13),j=a.n(N),M=function(){return Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://starnavi-frontend-test-task.herokuapp.com/game-settings");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},W=function(){return Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("https://starnavi-frontend-test-task.herokuapp.com/winners");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},x=function(e){return Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("https://starnavi-frontend-test-task.herokuapp.com/winners",e);case 3:return a=t.sent,console.log("data",a),t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},P=a(14),G=a.n(P),F=a(59),A=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={winners:[],userName:"",optionsSelect:[],gameMode:{},selectMode:{},selectModeSelect:"",startGame:!1,arrayCells:[],buttonPlay:"Play"},a.getGameMode=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,n=Object.keys(t),a.setState({optionsSelect:n,gameMode:t});case 5:case"end":return e.stop()}}),e)}))),a.getWinners=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,a.setState({winners:t});case 4:case"end":return e.stop()}}),e)}))),a.postWinner=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.startPlay=function(e){a.drawField(a.state.selectModeSelect),a.setState({userName:e,startGame:!0})},a.stopPlay=function(){a.setState({startGame:!1})},a.drawField=function(e){var t=a.state.gameMode[e];a.setState({selectModeSelect:e,selectMode:t,startGame:!1}),a.createArrayCells(t)},a.createArrayCells=function(e){for(var t=e.field,n=[],r=t*t,s=0;s<r;s++)n=[].concat(Object(l.a)(n),[v()()]);a.setState({arrayCells:n})},a.winnerRecord=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.random(),r=F(new Date).format("HH:mm DD MMMM YYYY"),s={id:n,winner:t,date:r},a.setState({buttonPlay:"Play Again"}),a.stopPlay(),e.next=7,a.postWinner(s);case 7:return e.next=9,a.getWinners();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getGameMode(),this.getWinners()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.optionsSelect,a=e.winners,n=e.selectMode,s=e.arrayCells,c=e.startGame,l=e.userName,o=e.buttonPlay;return r.a.createElement("div",{className:G.a.containerApp},r.a.createElement("div",{className:G.a.playingFieldOverley},r.a.createElement(C,{optionsSelect:t,startPlay:this.startPlay,drawField:this.drawField,buttonPlay:o,disabled:c}),r.a.createElement(E,{fieldSize:n.field,arrayCells:s,playerMove:this.playerMove,delay:n.delay,startGame:c,userName:l,winnerRecord:this.winnerRecord,stopPlay:this.stopPlay})),r.a.createElement(k,{winners:a}))}}]),t}(n.Component);c.a.render(r.a.createElement(A,null),document.getElementById("root"))},9:function(e,t,a){e.exports={list:"leaderBoard_list__32KGH",item:"leaderBoard_item__1FQj0",span:"leaderBoard_span__3c8zi"}}},[[27,1,2]]]);
//# sourceMappingURL=main.ca4b3438.chunk.js.map